<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>レイアウト確認テスト（スクリーンショット用）</title>

  <!-- 既存デザイン参照 -->
  <link rel="stylesheet" href="style.css">

  <style>
    /* ① ページ全体を1画面に固定（外側はスクロールさせない） */
    html, body {
      height: 100%;
      margin: 0;
      overflow: hidden; /* ページ全体のスクロール禁止 */
    }

    /* 上部の「戻る」リンクぶんを確保しつつ、残りを4分割する */
    .page {
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .topbar {
      flex: 0 0 auto;
    }

    /* ② 4領域（2x2） */
    .grid {
      flex: 1 1 auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: 1fr 1fr;
      gap: 12px;
      padding: 12px;
      box-sizing: border-box;
      background: #f7f7fb;
      min-height: 0;
    }

    /* 各領域の箱（style.css の雰囲気に寄せてカード風） */
    .panel {
      background: #fff;
      border-radius: 12px;
      padding: 14px;
      box-sizing: border-box;
      border: 1px solid rgba(0,0,0,0.08);
      display: flex;
      flex-direction: column;
      min-height: 0; /* 子のスクロールを効かせるため重要 */
      overflow: hidden;
    }

    .panel-title {
      font-weight: bold;
      margin-bottom: 8px;
    }

    .panel-body {
      flex: 1 1 auto;
      min-height: 0;
    }

    /* ⑤ 右上：入力行 */
    .input-row {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .input-row input[type="text"] {
      flex: 1;
      padding: 8px;
      font-size: 1rem;
      box-sizing: border-box;
    }
    #panel-rb {
      overflow: hidden;  /* パネル自体は伸びない */
    }
    .input-row button {
      padding: 8px 14px;
      cursor: pointer;
    }

    /* ⑥ 右下：テーブルはこの領域内だけスクロール */
    .table-wrap {
      border: 1px solid rgba(0,0,0,0.12);
      border-radius: 10px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      min-height: 0;
      height: 100%;
      background: #fff;
    }

    .table-scroll {
      overflow: auto;   /* 右下だけスクロール */
      min-height: 0;
      flex: 1 1 auto;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      table-layout: fixed;
    }

    th, td {
      border-bottom: 1px solid rgba(0,0,0,0.08);
      padding: 8px 10px;
      text-align: left;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      font-size: 14px;
    }

    th {
      position: sticky;
      top: 0;
      background: #fafafa;
      z-index: 1;
    }

    /* カラム幅（見た目の安定化＝スクショ比較向け） */
    .col-id { width: 90px; }
    .col-text { width: auto; }
    .col-p1 { width: 90px; text-align: center; }

    /* 左下のリセットボタン */
    .reset-btn {
      margin-top: 10px;
      padding: 8px 14px;
      cursor: pointer;
      align-self: flex-start;
    }

    /* 左下パネル専用 */
    .lb-body {
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .lb-footer {
      margin-top: auto;          /* ★ これで下ぞろえ */
      display: flex;
      justify-content: center;   /* ★ 横方向中央 */
    }

    .hint {
      color: #555;
      line-height: 1.6;
    }
  </style>
</head>

<body>
  <div class="page">
    <div class="topbar">
      <div class="link_container"><a href="index.html">ホームページへ戻る</a></div>
    </div>

    <div class="grid">
      <!-- ③ 左上 -->
      <section class="panel" id="panel-lt">
        <div class="panel-title">左上</div>
        <div class="panel-body hint">
          このページではレイアウト確認を行うためのテストページです。
        </div>
      </section>

      <!-- ⑤ 右上 -->
      <section class="panel" id="panel-rt">
        <div class="panel-title">右上</div>
        <div class="panel-body">
          <div class="input-row">
            <input id="inputText" type="text" placeholder="ここに入力して追加" autocomplete="off" />
            <button id="addBtn" type="button">追加</button>
          </div>
        </div>
      </section>

      <!-- ④ 左下 -->
      <section class="panel" id="panel-lb">
        <div class="panel-title">左下</div>
        <div class="panel-body hint">
          右上領域に入力を行いボタンを押下すると右下領域に情報が追加されます。下のボタンを押すとテーブルをリセットできます。
        </div>
        <div class="lb-footer">
           <button id="resetBtn" class="reset-btn" type="button">
             テーブルをリセット
           </button>
         </div>
      </section>

      <!-- ⑥ 右下 -->
      <section class="panel" id="panel-rb">
        <div class="panel-title">右下</div>

        <div class="panel-body">
          <div class="table-wrap">
            <div class="table-scroll">
              <table aria-label="result-table">
                <thead>
                  <tr>
                    <th class="col-id">id</th>
                    <th class="col-text">text</th>
                    <th class="col-p1">param1</th>
                  </tr>
                </thead>
                <tbody id="tableBody">
                  <!-- 追加される行 -->
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </section>
    </div>
  </div>

  <script>
    let seq = 1;

    const input = document.getElementById("inputText");
    const addBtn = document.getElementById("addBtn");
    const resetBtn = document.getElementById("resetBtn");
    const tbody = document.getElementById("tableBody");

    function pad4(n) {
      // ⑥ id：0001スタートで4桁ゼロ埋め
      const s = String(n);
      return "0".repeat(Math.max(0, 4 - s.length)) + s;
    }

    function randomMaruBatsu() {
      // ⑥ param1：〇 or × をランダム
      return Math.random() < 0.5 ? "〇" : "×";
    }

    function addRow(text) {
      const tr = document.createElement("tr");

      const idTd = document.createElement("td");
      idTd.className = "col-id";
      idTd.textContent = pad4(seq);

      const textTd = document.createElement("td");
      textTd.className = "col-text";
      textTd.textContent = text;

      const p1Td = document.createElement("td");
      p1Td.className = "col-p1";
      p1Td.textContent = randomMaruBatsu();

      tr.appendChild(idTd);
      tr.appendChild(textTd);
      tr.appendChild(p1Td);

      tbody.appendChild(tr);
      seq += 1;
    }

    function resetTable() {
      tbody.innerHTML = "";
      seq = 1;
      input.value = "";
      input.focus();
    }

    addBtn.addEventListener("click", () => {
      const value = input.value;
      // 何も入力されていない場合は追加しない（必要なら仕様変更できます）
      if (!value || value.trim() === "") return;

      addRow(value);
      input.value = "";
      input.focus();
    });

    // Enterでも追加（不要なら消せます）
    input.addEventListener("keydown", (e) => {
      if (e.key === "Enter") addBtn.click();
    });

    resetBtn.addEventListener("click", resetTable);

    // 初期状態を作る（スクショ比較したいなら、初期行を入れたい場合もあります）
    // 例：addRow("初期データ");
  </script>
</body>
</html>
